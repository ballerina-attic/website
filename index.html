<!DOCTYPE html>
<html>
    <head>
        <title>Ballerina - A flexible, powerful, beautiful programming language.</title>
        <meta charset="UTF-8">
        <meta property="og:url"                content="http://ballerinalang.org" />
        <meta property="og:type"               content="article" />
        <meta property="og:title"              content="Flexible. Powerful. Beautiful." />
        <meta property="og:description"        content="Ballerina is a general purpose, concurrent and strongly typed programming language with both textual and graphical syntaxes, optimized for integration." />
        <meta property="og:image"              content="http://ballerinalang.org/img/ballerina-fb.jpg" />
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index"/>
        <meta name="title" content="Ballerina - A flexible, powerful, beautiful programming language">
        <meta name="description" content="Ballerina is a general purpose, concurrent and strongly typed programming language with both textual and graphical syntaxes, optimized for integration.">
        <meta name="keywords" content="Programing language, Integration language, Sequence diagrams, Ballerinalang, WSO2 Ballerina, ballerina, language, Microservices Enterprise, Integration,">
        <meta name="author" content="ballerinalang"/>
        <link href="http://b.content.wso2.com/sites/all/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="http://c.content.wso2.com/sites/all/common/wso2-common-styles.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Cairo:200,300,400,600,700,900" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,500,600,700,900" rel="stylesheet">
        <link href="http://c.content.wso2.com/sites/all/lightbox/lightbox-styles.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/ballerina.css" rel="stylesheet">
        <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="img/favicon.ico" type="image/x-icon">
        <!--GA-->
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-92163714-1', 'auto');
            ga('send', 'pageview');

        </script>
        <!-- Google Tag Manager -->
        <script>(function (w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({'gtm.start':
                            new Date().getTime(), event: 'gtm.js'});
                var f = d.getElementsByTagName(s)[0],
                        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src =
                        'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-KW2LLTW');</script>
        <!-- End Google Tag Manager -->
        <!-- Hotjar Tracking Code for http://ballerinalang.org/ --> 
        <script> 
        (function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:442732,hjsv:5}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv='); 
        </script>
        <!-- Hotjar Tracking Code for http://ballerinalang.org/ END --> 
        <script type="text/javascript">
                    $(document).ready(function () {
                        $("#subscribeButton").click(function (event) {
                            event.preventDefault();
                            var email = $("#email").val();

                            if (email == "") {
                                $('#subscribeMessage').html("Please enter your email")
                            } else if (!isEmail(email)) {
                                $('#subscribeMessage').html("Please enter a valid email")
                            } else {
                                // $(".pdframe").html("<iframe src='http://go.pardot.com/l/142131/2017-02-16/3c6zgy?email=" + email + "'></iframe>");
                                $('#subscribeMessage').html('<span style="color:green;">Your invitation has been sent to ' + email+'</span>');
                                $('.subscribeForm').hide();

                                $.ajax({
                                    type: 'POST',
                                    url: '/slackServiceCall.php',
                                    data: {email: email},
                                    success: function (msg) {

                                    }
                                });
                                // $.fancybox.close();
                            }

                        });
                
                
                              //start of new subscribe form
                        $("#subscribeUserButton").click(function (event) {
                            event.preventDefault();
                            var email = $("#emailUser").val();

                            if (email == "") {
                                $('#subscribeUserMessage').html("Please enter your email")
                            } else if (!isEmail(email)) {
                                $('#subscribeUserMessage').html("Please enter a valid email")
                            } else {
                                 $(".pdframe").html("<iframe src='http://go.pardot.com/l/142131/2017-02-16/3c6zgy?email=" + email + "'></iframe>");                        
                                 $('#subscribeUserMessage').html('<span style="color:green;">Thank you! Stay tuned for updates on Ballerina.</span>');
                                 $('.subscribeUserForm').hide();
                            }

                        });
                        //end of new subscribe form
                
                
                
                
                    });

                    function isEmail(email) {
                        var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                        return regex.test(email);
                    }
        </script> 

    </head>
    <body class="cBallerina">

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KW2LLTW"
                          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <div class="row cBallerinaNav" id="iBallerinaNavigation">

        </div>
        <div class="row cBallerinaIntro">
            <div class="container">
                <div class="col-sm-12 col-md-12">
                    <h1>Flexible. Powerful. Beautiful.</h1>
                </div>
                <div class="col-sm-12 col-md-8">
                    <h2><span>Ballerina</span> is a general purpose, concurrent and strongly typed programming language with both textual and graphical syntaxes, optimized for integration.</h2>



                </div>
                <div class="col-sm-12 col-md-4 cBallerinaDownload" style="text-align: center;">
                    <a class="cBallerinaButtons cBallerinaDownloadButtons fancybox" id="cBallerinaDownlaodHome" href="downloads">Download</a>
                    <a href="#subscribeUser" class="fancybox cGet-updates">Stay updated</a>
                </div>
            </div>
        </div>
        <div class="row cBallerinaTry">
            <div class="container">
                <div class="col-sm-12 col-md-12 cFullscreenContainer">
                    <div class="cBallerinaTryNowContainer">
                        <a class="cFullscreen" id="Fullscreenview"></a>
                        <div class="sample_1 cSampleBox ">
                            <div class="">
                                <h3>helloWorld.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode1">
                                    <textarea id="txtSample1">
import ballerina.lang.system;

function main(string[] args) {
    system:println("Hello, World!" );
}
                                    </textarea>
                                    <input type="text" id="arguments1" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram1">
                                    <img src="img/helloWorld.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow1 cResults">
                            </div>
                            <a class="cTryitButton cTrySample1" id="helloWorldTry"></a>
                        </div>
                        <div class="sample_2 cSampleBox ">
                            <div class="">
                                <h3>echoService.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode2">
                                    <textarea id="txtSample2" >
//This sample will echo the request message

import ballerina.net.http;

@http:BasePath ("/echo")
service echo {

    @http:POST
    resource echo (message m) {
        http:convertToResponse(m);
        reply m;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments2" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram2">
                                    <img src="img/echoService.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow2 cResults">
                            </div>
                            <a class="cTryitButton cTrySample2" id="echoServiceTry"></a>
                        </div>
                        <div class="sample_3 cSampleBox ">
                            <div class="">
                                <h3>passthroughService.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode3">
                                    <textarea id="txtSample3" >
//This sample will passthrough the message to the backend and response to the client
//This publish the 'passthroughService' and 'nyseStockQuoteService' services
//Here the 'nyseStockQuoteService' will act as a backend.

import ballerina.lang.messages;
import ballerina.net.http;

@http:BasePath ("/passthrough")
service passthrough {

    @http:GET
    resource passthrough (message m) {
        http:ClientConnector nyseEP = create http:ClientConnector("http://localhost:9090");
        message response = http:ClientConnector.get(nyseEP, "/nyseStock", m);
        reply response;
    }
}

@http:BasePath("/nyseStock")
service nyseStockQuote {

    @http:GET
    resource stocks (message m) {
        json payload = `{"exchange":"nyse", "name":"IBM", "value":"127.50"}`;
        message response = {};
        messages:setJsonPayload(response, payload);
        reply response;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments3" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram3">
                                    <img src="img/passthroughService.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow3 cResults">
                            </div>
                            <a class="cTryitButton cTrySample3" id="passthroughServiceTry"></a>
                        </div>
                        <div class="sample_4 cSampleBox ">
                            <div class="">
                                <h3>routingServices.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode4">
                                    <textarea id="txtSample4" >
//This sample has two services which will route the message to two different backend. The first service will route based on the message content and the second one will route based on the header value.

import ballerina.net.http;
import ballerina.lang.jsonutils;
import ballerina.lang.messages;

@http:BasePath ("/cbr")
service contentBasedRouting {

    @http:POST
    resource cbrResource (message m) {

        http:ClientConnector nyseEP = create http:ClientConnector("http://localhost:9090/nyseStocks");
        http:ClientConnector nasdaqEP = create http:ClientConnector("http://localhost:9090/nasdaqStocks");

        string nyseString = "nyse";

        json jsonMsg = messages:getJsonPayload(m);
        string nameString = jsonutils:getString(jsonMsg, "$.name");

        message response = {};

        if (nameString == nyseString) {
            response = http:ClientConnector.post(nyseEP, "/", m);
        } else {
            response = http:ClientConnector.post(nasdaqEP, "/", m);
        }

        reply response;
    }
}

@http:BasePath ("/hbr")
service headerBasedRouting {

    @http:GET
    resource cbrResource (message m) {

        http:ClientConnector nyseEP = create http:ClientConnector("http://localhost:9090/nyseStocks");
        http:ClientConnector nasdaqEP = create http:ClientConnector("http://localhost:9090/nasdaqStocks");

        string nyseString = "nyse";

        string nameString = messages:getHeader(m, "name");

        message response = {};

        if (nameString == nyseString) {
            response = http:ClientConnector.post(nyseEP, "/", m);
        } else {
            response = http:ClientConnector.post(nasdaqEP, "/", m);
        }

        reply response;
    }
}

@http:BasePath("/nyseStocks")
service nyseStockQuote {

    @http:POST
    resource stocks (message m) {

        message response = {};

        json payload = `{"exchange":"nyse", "name":"IBM", "value":"127.50"}`;
        messages:setJsonPayload(response, payload);

        reply response;
    }
}

@http:BasePath("/nasdaqStocks")
service nasdaqStocksQuote {

    @http:POST
    resource stocks (message m) {

        message response = {};

        json payload = `{"exchange":"nasdaq", "name":"IBM", "value":"127.50"}`;
        messages:setJsonPayload(response, payload);

        reply response;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments4" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram4">
                                    <img src="img/routingServices.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow4 cResults">
                            </div>
                            <a class="cTryitButton cTrySample4" id="iroutingeServiceTry"></a>
                        </div>
                        <div class="sample_5 cSampleBox ">
                            <div class="">
                                <h3>ecommerceService.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode5">
                                    <textarea id="txtSample5">
import ballerina.lang.messages;
import ballerina.net.http;
import ballerina.lang.system;
import ballerina.lang.strings;
import ballerina.lang.jsonutils;

@http:BasePath ("/ecommerceservice")
service Ecommerce {

    http:ClientConnector productsService = create http:ClientConnector("http://localhost:9090");


    @http:GET
    @http:Path ("/products/{productId}")
    resource productsInfo (message m, @http:PathParam("productId") string prodId)  {
        string reqPath = "/productsservice/" + prodId;
        message response = http:ClientConnector.get(productsService, reqPath, m);
        reply response;
    }

    @http:POST
    @http:Path ("/products")
    resource productMgt (message m) {
        message response = http:ClientConnector.post(productsService, "/productsservice", m);
        reply response;
    }


    @http:GET
    @http:Path ("/orders")
    resource ordersInfo (message m) {
        http:ClientConnector productsService = create http:ClientConnector("http://localhost:9090");
        message response = http:ClientConnector.get(productsService, "/orderservice", m);
        reply response;
    }

    @http:POST
    @http:Path ("/orders")
    resource ordersMgt (message m) {
        http:ClientConnector productsService = create http:ClientConnector("http://localhost:9090");
        message response = http:ClientConnector.post(productsService, "/orderservice", m);
        reply response;
    }

    @http:GET
    @http:Path ("/customers")
    resource customersInfo (message m) {
        http:ClientConnector productsService = create http:ClientConnector("http://localhost:9090");
        message response = http:ClientConnector.get(productsService, "/customerservice", m);
        reply response;
    }

    @http:POST
    @http:Path ("/customers")
    resource customerMgt (message m) {
        http:ClientConnector productsService = create http:ClientConnector("http://localhost:9090");
        message response = http:ClientConnector.post(productsService, "/customerservice", m);
        reply response;
    }
}

@http:BasePath("/productsservice")
service productmgt {

    map productsMap = populateSampleProducts();

    @http:GET
    @http:Path ("/{id}")
    resource product (message m, @PathParam("id") string prodId) {
        json payload = productsMap[prodId];
        // ToDo : Fix for non-existing products

        message response = {};
        messages:setJsonPayload(response, payload);
        reply response;
    }

    @http:POST
    @http:Path ("/")
    resource product (message m) {
        json jsonReq = messages:getJsonPayload(m);

        string productId = jsonutils:getString(jsonReq, "$.Product.ID");
        productsMap[productId] = jsonReq;

        json payload = `{"Status":"Product is successfully added."}`;
        message response = {};
        messages:setJsonPayload(response, payload);
        reply response;
    }

}


function populateSampleProducts()(map productsMap) {
    productsMap = {};
    json prod_1 = `{"Product": {"ID": "123000", "Name": "ABC_1","Description": "Sample product."}}`;
    json prod_2 = `{"Product": {"ID": "123001", "Name": "ABC_2","Description": "Sample product."}}`;
    json prod_3 = `{"Product": {"ID": "123002", "Name": "ABC_3","Description": "Sample product."}}`;

    productsMap["123000"]= prod_1;
    productsMap["123001"]= prod_2;
    productsMap["123002"]= prod_3;
    system:println("Sample products are added.");
    return productsMap;

}

@http:BasePath("/orderservice")
service OrderMgtService {

    @http:GET
    @http:POST
    resource orders (message m) {
        json payload = {};

        string httpMethod = http:getMethod(m);

        if ( strings:equalsIgnoreCase(httpMethod, "GET") ) {
            payload = `{"Order": {"ID": "111999", "Name": "ABC123","Description": "Sample order."}}`;
        } else {
            payload = `{"Status":"Order is successfully added."}`;
        }

        message response = {};
        messages:setJsonPayload(response, payload);
        reply response;
    }
}

@http:BasePath("/customerservice")
service CustomerMgtService {

    @http:GET
    @http:POST
    resource customers (message m) {
        json payload = {};

        string httpMethod = http:getMethod(m);

        if ( strings:equalsIgnoreCase(httpMethod, "GET") ) {
             payload = `{"Customer": {"ID": "987654", "Name": "ABC PQR","Description": "Sample Customer."}}`;
        } else {
            payload = `{"Status":"Customer is successfully added."}`;
        }

        message response = {};
        messages:setJsonPayload(response, payload);
        reply response;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments5" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram5">
                                    <img src="img/RestfulService.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow5 cResults">
                            </div>
                            <a class="cTryitButton cTrySample5" id="iRestfulServiceTry"></a>
                        </div>
                        <div class="sample_6 cSampleBox ">
                            <div class="">
                                <h3>ATMLocatorService.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode6">
                                    <textarea id="txtSample6">
//This sample will illustrate a composite service : ATMLocatorService, which calls the following services to find the nearest ATM of ABC Bank using the zip code.
//   - Zip-code based Branch locator service : http://localhost:9090/branchlocator
//   - Bank information provider : http://localhost:9090/bankinfo

import ballerina.lang.messages;
import ballerina.net.http;
import ballerina.lang.system;
import ballerina.lang.jsonutils;

@http:BasePath ("/ABCBank")
service ATMLocator {

    @http:POST
    @http:Path ("/locator")
    resource locator (message m) {
        http:ClientConnector branchLocatorService = create http:ClientConnector("http://localhost:9090/branchlocator");
        http:ClientConnector bankInfoService = create http:ClientConnector("http://localhost:9090/bankinfo");

        message backendServiceReq = {};

        json jsonLocatorReq = messages:getJsonPayload(m);

        string zipCode = jsonutils:getString(jsonLocatorReq, "$.ATMLocator.ZipCode");
        system:println("Zip Code " + zipCode);

        json branchLocatorReq = `{"BranchLocator": {"ZipCode":""}}`;
        jsonutils:set(branchLocatorReq, "$.BranchLocator.ZipCode", zipCode);
        messages:setJsonPayload(backendServiceReq, branchLocatorReq);

        message response = http:ClientConnector.post(branchLocatorService, "", backendServiceReq);

        json branchLocatorRes = messages:getJsonPayload(response);

        string branchCode = jsonutils:getString(branchLocatorRes, "$.ABCBank.BranchCode");
        system:println("Branch Code " + branchCode);

        json bankInfoReq = `{"BranchInfo": {"BranchCode":""}}`;
        jsonutils:set(bankInfoReq, "$.BranchInfo.BranchCode", branchCode);
        messages:setJsonPayload(backendServiceReq, bankInfoReq);

        response = http:ClientConnector.post(bankInfoService, "", backendServiceReq);

        reply response;
    }
}


@http:BasePath("/branchlocator")
service Banklocator {

    @http:POST
    resource product (message m) {
        message response = {};

        json jsonRequest = messages:getJsonPayload(m);
        string zipCode = jsonutils:getString(jsonRequest, "$.BranchLocator.ZipCode");

        json payload = {};
        if (zipCode == "95999") {
            payload = `{"ABCBank": {"BranchCode":"123"}}`;
        } else {
            payload = `{"ABCBank": {"BranchCode":"-1"}}`;
        }
        messages:setJsonPayload(response, payload);
        reply response;
    }
}


@http:BasePath("/bankinfo")

service Bankinfo {

    @http:POST
    resource product (message m) {
        message response = {};

        json jsonRequest = messages:getJsonPayload(m);
        string branchCode = jsonutils:getString(jsonRequest, "$.BranchInfo.BranchCode");

        json payload = {};
        if (branchCode == "123") {
            payload = `{"ABC Bank": {"Address": "111 River Oaks Pkwy, San Jose, CA 95999"}}`;
        } else {
            payload = `{"ABC Bank": {"error": "No branches found."}}`;
        }

        messages:setJsonPayload(response, payload);
        reply response;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments6" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram6">
                                    <img src="img/ServiceChaining.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow6 cResults">
                            </div>
                            <a class="cTryitButton cTrySample6" id="ServiceChainingTry"></a>
                        </div>
                        <div class="sample_7 cSampleBox ">
                            <div class="">
                                <h3>helloWorldService.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode7">
                                    <textarea id="txtSample7">
//This sample runs a service that replies to a request with a greeting message.

import ballerina.lang.messages;

@http:BasePath ("/hello")
service helloWorld {

    @http:GET
    resource sayHello(message m) {
        message response = {};
        messages:setStringPayload(response, "Hello, World!");
        reply response;
    }
}
                                    </textarea>
                                    <input type="text" id="arguments7" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram7">
                                    <img src="img/helloworlds-2.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow7 cResults">
                            </div>
                            <a class="cTryitButton cTrySample7" id="ihelloWorldService"></a>
                        </div>
                        <div class="sample_8 cSampleBox ">
                            <div class="">
                                <h3>twitterConnector.bal</h3>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol">
                                <div class="cBallerinaCode cBallerinaCode8">
                                    <textarea id="txtSample8">
import ballerina.lang.jsons;
import ballerina.lang.messages;
import ballerina.lang.strings;
import ballerina.lang.system;
import ballerina.net.http;
import ballerina.net.uri;
import ballerina.utils;
connector Twitter(string consumerKey, string consumerSecret, string accessToken, string accessTokenSecret) {
    http:ClientConnector tweeterEP = create http:ClientConnector("https://api.twitter.com");
    action tweet(Twitter t, string msg)(message ) {
        message request = {};
        string oauthHeader = constructOAuthHeader(consumerKey, consumerSecret, accessToken, accessTokenSecret, msg);
        string tweetPath = "/1.1/statuses/update.json?status=" + uri:encode(msg);
        messages:setHeader(request, "Authorization", oauthHeader);
        message response = http:ClientConnector.post(tweeterEP, tweetPath, request);
        return response;
    
    }
    
}
function constructOAuthHeader(string consumerKey, string consumerSecret, string accessToken, string accessTokenSecret, string tweetMessage)(string ) {
    string timeStamp = strings:valueOf(system:epochTime());
    string nonceString = utils:getRandomString();
    string paramStr = "oauth_consumer_key=" + consumerKey + "&oauth_nonce=" + nonceString + "&oauth_signature_method=HMAC-SHA1&oauth_timestamp=" + timeStamp + "&oauth_token=" + accessToken + "&oauth_version=1.0&status=" + uri:encode(tweetMessage);
    string baseString = "POST&" + uri:encode("https://api.twitter.com/1.1/statuses/update.json") + "&" + uri:encode(paramStr);
    string keyStr = uri:encode(consumerSecret) + "&" + uri:encode(accessTokenSecret);
    string signature = utils:getHmac(baseString, keyStr, "SHA1");
    string oauthHeader = "OAuth oauth_consumer_key=\"" + consumerKey + "\",oauth_signature_method=\"HMAC-SHA1\",oauth_timestamp=\"" + timeStamp + "\",oauth_nonce=\"" + nonceString + "\",oauth_version=\"1.0\",oauth_signature=\"" + uri:encode(signature) + "\",oauth_token=\"" + uri:encode(accessToken) + "\"";
    return strings:unescape(oauthHeader);
    
}
function main(string[] args) {
    Twitter twitterConnector = create Twitter(args[0], args[1], args[2], args[3]);
    message tweetResponse = Twitter.tweet(twitterConnector, args[4]);
    json tweetJSONResponse = messages:getJsonPayload(tweetResponse);
    system:println(jsons:toString(tweetJSONResponse));
}
                                    </textarea>
                                    <input type="text" id="arguments8" placeholder="arguments. e.g. val1;val2" style="width: 100%;"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 cBallerinaTryNowCol ">
                                <div class="cBallerinaDaiagram cBallerinaDaiagram8">
                                    <img src="img/TwitterConnector.svg"/>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 cOutputWindow8 cResults">
                            </div>
                            <a class="cTryitButton cTrySample8" id="TwitterConnectorTry"></a>
                        </div>
                        <div class="col-sm-12 col-md-6 cBallerinaTools">
                            <h4>Samples</h4>
                            <select>
                                <!--                        <option>Choose Color</option>-->
                                <option value="sample_1">HelloWorld</option>
                                <option value="sample_2">Echo Service</option>
                                <option value="sample_3">Passthrough Service</option>
                                <option value="sample_4">Routing Services</option>
                                <option value="sample_5">Restful Services</option>
                                <option value="sample_6">Service Chaining Sample</option>
                                <option value="sample_7">Hello Services</option>
                                <option value="sample_8">Twitter Connector</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row cBallerinaContentRow cGrayRow" id="Getting-Started">
            <div class="container">
                <div class="col-sm-12 col-md-12">
                    <h2>Get started</h2>
                </div>
                <div class="">

                    <div style="display: inline-block; margin-bottom: 4em;">

                        <div class="col-sm-12 col-md-6">
                            <p class="Intro">Ballerina was built from the ground to make it easier to design, describe and develop programs. Here’s how and why. </p>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <div>

                                <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/P92y5cgEa0Q" allowfullscreen style="width: 100%; height: 400px;"></iframe>

                                <!--                     <iframe class="embed-responsive-item cSlides" src="http://www.slideshare.net/slideshow/embed_code/key/HlffpWO9MWg5NQ"> </iframe> -->
                                <!--                                <img src="img/video.jpg?123"/>-->
                            </div>
                        </div>

                    </div>
                    <div>

                        <div class="col-sm-12 col-md-6">

                            <iframe id="IBallerinaslides"  src="//www.slideshare.net/slideshow/embed_code/key/bQRal9WXLPnPP5" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe>  </div>
                    </div>
                    <div class="col-sm-12 col-md-6">
                        <div>

                            <p class="Intro" style="margin-top: 4em;">Ballerina’s visual approach allows you to create programs and integrate services and apps via sequence diagrams.</p>
                        </div>
                    </div>



                    <div class="cNewtoBallerina" style="margin-top: 2em;">
                        <div class="">
                            <h2>New to Ballerina?</h2>

                            <div class="col-sm-12 col-md-4 ">
                                <div class="cNewtoBallerinaCol">
                                    <h3>Start with the Ballerina </br><a id="NewtoBallerina-documentation" class="cSmallButtons" href="http://ballerinalang.org/docs/"/>documentation</a></h3>

                                </div>
                            </div>
                            <div class="col-sm-12 col-md-4">
                                <div class="cNewtoBallerinaCol cMiddle">
                                    <h3>Join the </br><a  id="NewtoBallerina-UserGroup" class="cSmallButtons" href="https://groups.google.com/forum/#!forum/ballerina-user"/>User Group</a></h3>

                                </div>
                            </div>
                            <div class="col-sm-12 col-md-4">
                                <div class="cNewtoBallerinaCol">
                                    <h3>
                                        Ask questions on #Ballerinalang on </br><a id="NewtoBallerina-Stackoverflow" class="cSmallButtons" href="http://stackoverflow.com/questions/tagged/ballerinalang"/>Stackoverflow</a>
                                    </h3>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12">
                                <p>By building around a visual programming model, Ballerina allows you to connect apps and services and create any program via a sequence diagram. It’s a unique approach that we believe will make all of us faster and more effective at designing integration logic. </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="row cBallerinaContentRow">
            <div class="container">
                <div class="cBallerinaContentColContainer"  style="background-image: none;">

                    <div class="col-sm-12 col-md-12">
                        <div class="" id="Get-involved">
                            <h2>Get involved</h2>
                            <p>Ballerina is an open-source project. We want you to use it, abuse it and show us how to improve it.



                            <div class="cNewtoBallerina">
                                <div class="">

                                    <div class="col-sm-12 col-md-4 ">
                                        <div class="cNewtoBallerinaCol">
                                            <img src="http://ballerinalang.org/img/docs.svg"/>

                                            <h3>Read the architecture <a id="Getinvolved-documentation" class="cSmallButtons" href="https://docs.google.com/document/d/1aWX-Wkrp6ZXPG3Ei83OJd645Ss2b1rLdGvZ7-_f4J08/edit#"/>documentation</a></h3>

                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="cNewtoBallerinaCol cMiddle">
                                            <img src="http://ballerinalang.org/img/fork.svg"/>
                                            <h3>Fork Ballerina on <a id="Getinvolved-Github" class="cSmallButtons" href="https://github.com/ballerinalang"/>Github</a></h3>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-4">
                                        <div class="cNewtoBallerinaCol">
                                            <img src="http://ballerinalang.org/img/dev.svg"/>
                                            <h3>
                                                Join the <a id="Getinvolved-BallerinaDevGroup" href="https://groups.google.com/forum/#!forum/ballerina-dev">Ballerina Dev Group</a>. 
                                            </h3>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12" style="margin-bottom: 2em;">
                                <div class="cSlackContainer" style="background: transparent;">
                                    <div class="col-sm 12 col-md-6">
                                        <h2>Subscribe for more updates</h2>
                                    </div>
                                    <div class="col-sm 12 col-md-6">
                                        <a class="cBallerinaButtons fancybox cSubscribe" id="Getinvolved-slack" href="#subscribeUser">Subscribe</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12">
                                <div class="cSlackContainer">
                                    <div class="col-sm 12 col-md-6">
                                        <h2>We’re on Slack! Let’s talk.</h2>
                                    </div>
                                    <div class="col-sm 12 col-md-6">
                                        <a class="cBallerinaButtons fancybox cSubscribe" id="Getinvolved-slack" href="#subscribe">Request an Invite</a>
                                    </div>
                                </div>
                            </div>



                            <div class="cSocialMedia">
                                <a href="https://www.facebook.com/BallerinaLang/" id="iFB" target="_blank">
                                    <svg version="1.1" class="cSVGMenuIcons" id="iFooterSVGTracking_fb" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 216 216" enable-background="new 0 0 216 216" xml:space="preserve">
                                    <path d="M80.318,215.866h43.272V107.453h30.206L157,71.199h-33.41c0,0,0-13.555,0-20.701 c0-8.522,1.73-11.936,10.005-11.936c6.653,0,23.405,0,23.405,0V0.917c0,0-24.67,0-29.942,0c-32.222,0-46.74,14.17-46.74,41.336 c0,23.635,0,28.946,0,28.946H57.784v36.725h22.534V215.866z"/>
                                    </svg>
                                </a>
                                <a href="https://twitter.com/ballerinalang" target="_blank" id="iTwitter">
                                    <svg class="cSVGMenuIcons" version="1.1" id="iFooterSVGTracking_twitter" xmlns="http://wwwa.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 217.796 177.016" enable-background="new 0 0 217.796 177.016" xml:space="preserve">
                                    <path d="M0,156.928c19.764,12.661,43.248,20.091,68.477,20.091c82.971,0,129.816-70.094,127.012-132.928 c8.729-6.308,16.308-14.167,22.307-23.156c-8.027,3.589-16.634,5.972-25.661,7.055c9.196-5.513,16.288-14.259,19.615-24.735 c-8.653,5.13-18.204,8.849-28.352,10.877c-8.167-8.709-19.773-14.129-32.632-14.129c-28.856,0-50.022,26.903-43.542,54.881 C70.117,53.015,37.168,35.25,15.147,8.142C3.467,28.28,9.097,54.557,28.987,67.845c-7.326-0.271-14.241-2.261-20.259-5.579 c-0.477,20.688,14.385,40.051,35.841,44.341c-6.274,1.737-13.171,2.102-20.156,0.803c5.653,17.756,22.184,30.632,41.719,31.015 C47.363,153.161,23.722,159.75,0,156.928z"/>
                                    </svg>
                                </a>
                                <a href="https://www.linkedin.com/groups/10333249" target="_blank" id="iLinkedin">
                                    <svg version="1.1" id="iFooterSVGTracking_linkedin" class="cSVGMenuIcons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 216 216" enable-background="new 0 0 216 216" xml:space="preserve">
                                    <rect x="4.267" y="71.146" width="44.034" height="142.273"/>
                                    <path d="M26.033,52.494c14.434,0,26.115-11.773,26.115-26.252C52.148,11.744,40.467,0,26.033,0 C11.686,0,0,11.744,0,26.242C0,40.721,11.686,52.494,26.033,52.494z"/>
                                    <path d="M118.703,138.751c0-20.015,9.193-31.963,26.846-31.963c16.17,0,23.984,11.442,23.984,31.963 c0,20.491,0,74.669,0,74.669h43.832c0,0,0-51.979,0-90.062c0-38.131-21.619-56.57-51.783-56.57 c-30.182,0-42.879,23.517-42.879,23.517V71.146H76.444V213.42h42.259C118.703,213.42,118.703,160.645,118.703,138.751z"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row cBallerinaFooter" id="iBallerinaFooter">

        </div>
        <!--      <div class="cBallerinaDownloadForm" id="download">
                 <form>
                    <div class="cBallerinaFormFieldContainer">
                       <label>Email Address</label>
                       <input maxlength="90" value="" name="email" placeholder="Email" title="Email" class="cTextfieldstyle contact_email" type="text">
                    </div>
                    <a class="cBallerinaButtons" href="downloads/ballerina-tools-0.8.0-SNAPSHOT.zip">Download Now</a>
                 </form>
              </div>-->
        <div class="cBallerinaDownloadForm" id="subscribe">
            <form>
                <div class="cBallerinaFormFieldContainer">
                    <span id="subscribeMessage" ></span>
                    <label class="subscribeForm">Email Address</label>
                    <input maxlength="90" value="" id="email" name="email" placeholder="Email" title="Email" class="cTextfieldstyle contact_email subscribeForm" type="text">
                </div>
                <a class="cBallerinaButtons subscribeForm" href="" id="subscribeButton">Submit</a>
            </form>

        </div> 
         <div class="cBallerinaDownloadForm" id="subscribeUser">
            <form>
                <div class="cBallerinaFormFieldContainer">
                    <h3 style="margin-bottom: 0;">Subscribe for more updates</h3>
                      <span id="subscribeUserMessage" ></span>
                     <label class="subscribeUserForm">Email Address</label>
                    <input maxlength="90" value="" id="emailUser" name="email" placeholder="Email" title="Email" class="cTextfieldstyle contact_email subscribeUserForm" type="text">
                </div>
                <a class="cBallerinaButtons subscribeUserForm" href="" id="subscribeUserButton">Subscribe</a>
            </form>

        </div>
        <div id="pdframe" class="pdframe"></div>
        <a id="Getinvolved-Github" class="cSmallButtons cFloatingButton" href="https://github.com/ballerinalang"/>
        <img src="http://ballerinalang.org/img/fork-w.svg"/>
        <span>Fork Ballerina on Github</span>
    </a>
      
        <script src="http://b.content.wso2.com/sites/all/bootstrap/js/jquery.js"></script>
        <script src="http://b.content.wso2.com/sites/all/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="http://c.content.wso2.com/sites/all/lightbox/lightbox-js.js"></script>
        <script type="text/javascript" src="http://c.content.wso2.com/sites/all/lightbox/lightbox-js-inline.js"></script>
        <script type="text/javascript" src="js/ballerina.js"></script>
        <script type="text/javascript" src="js/ballerina-home.js"></script>
  
    </body>
   
</html>
